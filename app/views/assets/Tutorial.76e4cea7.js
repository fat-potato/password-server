import{h as s}from"./http-common.f99229a1.js";import{o as a,c as n,a as e,i as c,v as p,d as g,t as h}from"./vendor.fd78f4d5.js";import{_ as T}from"./index.fae7c3cd.js";class m{getAll(){return s.get("/tutorials")}get(t){return s.get(`/tutorials/${t}`)}create(t){return s.post("/tutorials",t)}update(t,i){return s.put(`/tutorials/${t}`,i)}delete(t){return s.delete(`/tutorials/${t}`)}deleteAll(){return s.delete("/tutorials")}findByTitle(t){return s.get(`/tutorials?title=${t}`)}}var d=new m;const _={name:"tutorial",data(){return{currentTutorial:null,message:""}},methods:{getTutorial(l){d.get(l).then(t=>{this.currentTutorial=t.data,console.log(t.data)}).catch(t=>{console.log(t)})},updatePublished(l){var t={id:this.currentTutorial.id,title:this.currentTutorial.title,description:this.currentTutorial.description,published:l};d.update(this.currentTutorial.id,t).then(i=>{console.log(i.data),this.currentTutorial.published=l,this.message="The status was updated successfully!"}).catch(i=>{console.log(i)})},updateTutorial(){d.update(this.currentTutorial.id,this.currentTutorial).then(l=>{console.log(l.data),this.message="The tutorial was updated successfully!"}).catch(l=>{console.log(l)})},deleteTutorial(){d.delete(this.currentTutorial.id).then(l=>{console.log(l.data),this.$router.push({name:"tutorials"})}).catch(l=>{console.log(l)})}},mounted(){this.message="",this.getTutorial(this.$route.params.id)}},b={key:0,class:"edit-form"},f=e("h4",null,"Tutorial",-1),v={class:"form-group"},y=e("label",{for:"title"},"Title",-1),k={class:"form-group"},x=e("label",{for:"description"},"Description",-1),P={class:"form-group"},D=e("label",null,[e("strong",null,"Status:")],-1),w={key:1},B=e("br",null,null,-1),C=e("p",null,"Please click on a Tutorial...",-1),S=[B,C];function U(l,t,i,V,o,u){return o.currentTutorial?(a(),n("div",b,[f,e("form",null,[e("div",v,[y,c(e("input",{type:"text",class:"form-control",id:"title","onUpdate:modelValue":t[0]||(t[0]=r=>o.currentTutorial.title=r)},null,512),[[p,o.currentTutorial.title]])]),e("div",k,[x,c(e("input",{type:"text",class:"form-control",id:"description","onUpdate:modelValue":t[1]||(t[1]=r=>o.currentTutorial.description=r)},null,512),[[p,o.currentTutorial.description]])]),e("div",P,[D,g(" "+h(o.currentTutorial.published?"Published":"Pending"),1)])]),o.currentTutorial.published?(a(),n("button",{key:0,class:"badge badge-primary mr-2",onClick:t[2]||(t[2]=r=>u.updatePublished(!1))}," UnPublish ")):(a(),n("button",{key:1,class:"badge badge-primary mr-2",onClick:t[3]||(t[3]=r=>u.updatePublished(!0))}," Publish ")),e("button",{class:"badge badge-danger mr-2",onClick:t[4]||(t[4]=(...r)=>u.deleteTutorial&&u.deleteTutorial(...r))}," Delete "),e("button",{type:"submit",class:"badge badge-success",onClick:t[5]||(t[5]=(...r)=>u.updateTutorial&&u.updateTutorial(...r))}," Update "),e("p",null,h(o.message),1)])):(a(),n("div",w,S))}var M=T(_,[["render",U]]);export{M as default};
