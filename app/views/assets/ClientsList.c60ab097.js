import{C as u}from"./ClientDataService.b3cfa2bf.js";import{r as h,o,c as r,a as e,i as m,v,F as C,j as p,d as a,t as c,b as g,w as b,n as f}from"./vendor.fd78f4d5.js";import{_ as k}from"./index.fae7c3cd.js";import"./http-common.f99229a1.js";const y={name:"clients-list",data(){return{clients:[],currentClient:null,currentIndex:-1,name:""}},methods:{retrieveClients(){u.getAll().then(t=>{this.clients=t.data,console.log(t.data)}).catch(t=>{console.log(t)})},refreshList(){this.retrieveClients(),this.currentClient=null,this.currentIndex=-1},setActiveClient(t,l){this.currentClient=t,this.currentIndex=t?l:-1},removeAllClients(){u.deleteAll().then(t=>{console.log(t.data),this.refreshList()}).catch(t=>{console.log(t)})},searchName(){u.findByName(this.name).then(t=>{this.clients=t.data,this.setActiveClient(null),console.log(t.data)}).catch(t=>{console.log(t)})}},mounted(){this.retrieveClients()}},x={class:"list row"},A={class:"col-md-8"},N={class:"input-group mb-3"},L={class:"input-group-append"},w={class:"col-md-6"},S=e("h4",null,"Clients List",-1),B={class:"list-group"},D=["onClick"],I={class:"col-md-6"},V={key:0},E=e("h4",null,"Client",-1),F=e("label",null,[e("strong",null,"Name:")],-1),T=e("label",null,[e("strong",null,"Description:")],-1),U=e("label",null,[e("strong",null,"Site Url:")],-1),j=a("Edit"),z={key:1},M=e("br",null,null,-1),P=e("p",null,"Please click on a Client...",-1),R=[M,P];function q(t,l,G,H,n,i){const _=h("router-link");return o(),r("div",x,[e("div",A,[e("div",N,[m(e("input",{type:"text",class:"form-control",placeholder:"Search by name","onUpdate:modelValue":l[0]||(l[0]=s=>n.name=s)},null,512),[[v,n.name]]),e("div",L,[e("button",{class:"btn btn-outline-secondary",type:"button",onClick:l[1]||(l[1]=(...s)=>i.searchName&&i.searchName(...s))}," Search ")])])]),e("div",w,[S,e("ul",B,[(o(!0),r(C,null,p(n.clients,(s,d)=>(o(),r("li",{class:f(["list-group-item",{active:d==n.currentIndex}]),key:d,onClick:J=>i.setActiveClient(s,d)},c(s.name),11,D))),128))]),e("button",{class:"m-3 btn btn-sm btn-danger",onClick:l[2]||(l[2]=(...s)=>i.removeAllClients&&i.removeAllClients(...s))}," Remove All ")]),e("div",I,[n.currentClient?(o(),r("div",V,[E,e("div",null,[F,a(" "+c(n.currentClient.name),1)]),e("div",null,[T,a(" "+c(n.currentClient.description),1)]),e("div",null,[U,a(" "+c(n.currentClient.site_url),1)]),g(_,{to:"/clients/"+n.currentClient.id,class:"badge badge-warning"},{default:b(()=>[j]),_:1},8,["to"])])):(o(),r("div",z,R))])])}var X=k(y,[["render",q]]);export{X as default};
